<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="CyberCalc Pro - A secure, feature-rich calculator built with vanilla JavaScript">
    <meta name="author" content="Mehdi Khorshidi far">
    <title>CyberCalc Pro | Advanced Calculator</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/themes.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" type="image/png" href="assets/logo.svg">
</head>
<body data-theme="cyber">
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-shield-halved"></i>
                    <h1>CyberCalc Pro</h1>
                </div>
                <div class="header-actions">
                    <button class="icon-btn" id="themeToggle" title="Toggle Theme">
                        <i class="fas fa-palette"></i>
                    </button>
                    <button class="icon-btn" id="historyToggle" title="History">
                        <i class="fas fa-clock-rotate-left"></i>
                    </button>
                    <button class="icon-btn" id="settingsToggle" title="Settings">
                        <i class="fas fa-gear"></i>
                    </button>
                </div>
            </div>
        </header>

        <main class="main-content">
            <!-- Calculator Section -->
            <section class="calculator-section">
                <div class="calculator-card">
                    <!-- Mode Switcher -->
                    <div class="mode-switcher">
                        <button class="mode-btn active" data-mode="basic">
                            <i class="fas fa-calculator"></i>
                            Basic
                        </button>
                        <button class="mode-btn" data-mode="scientific">
                            <i class="fas fa-flask"></i>
                            Scientific
                        </button>
                        <button class="mode-btn" data-mode="programmer">
                            <i class="fas fa-code"></i>
                            Programmer
                        </button>
                    </div>

                    <!-- Display -->
                    <div class="display-container">
                        <div class="display-header">
                            <span class="mode-indicator">BASIC MODE</span>
                            <span class="memory-indicator" style="display: none;">
                                <i class="fas fa-bookmark"></i> M
                            </span>
                        </div>
                        <div class="expression-display" id="expression"></div>
                        <div class="result-display" id="result">0</div>
                        <div class="error-display" id="error" style="display: none;"></div>
                    </div>

                    <!-- Buttons Grid -->
                    <div class="buttons-container">
                        <div class="buttons-grid" id="buttonsGrid">
                            <!-- Buttons generated by JavaScript -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- History Panel -->
            <aside class="history-panel" id="historyPanel" style="display: none;">
                <div class="panel-header">
                    <h2>
                        <i class="fas fa-clock-rotate-left"></i>
                        Calculation History
                    </h2>
                    <div class="panel-actions">
                        <button class="icon-btn" id="exportHistory" title="Export History">
                            <i class="fas fa-download"></i>
                        </button>
                        <button class="icon-btn danger" id="clearHistory" title="Clear History">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
                <div class="panel-body" id="historyList">
                    <div class="empty-state">
                        <i class="fas fa-inbox"></i>
                        <p>No calculations yet</p>
                    </div>
                </div>
            </aside>
        </main>

        <!-- Footer -->
        <footer class="app-footer">
            <p>Built with ❤️ by <a href="https://github.com/Mehdi_ds_KH" target="_blank">Mehdi Khorshidi far</a></p>
            <p class="version">v1.0.0 | Security-First Calculator</p>
        </footer>
    </div>

    <!-- Theme Selector Modal -->
    <div class="modal" id="themeModal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Choose Theme</h3>
                <button class="icon-btn" id="closeThemeModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="theme-grid">
                    <button class="theme-card" data-theme="cyber">
                        <div class="theme-preview cyber-preview"></div>
                        <span>Cyber</span>
                    </button>
                    <button class="theme-card" data-theme="dark">
                        <div class="theme-preview dark-preview"></div>
                        <span>Dark</span>
                    </button>
                    <button class="theme-card" data-theme="light">
                        <div class="theme-preview light-preview"></div>
                        <span>Light</span>
                    </button>
                    <button class="theme-card" data-theme="nord">
                        <div class="theme-preview nord-preview"></div>
                        <span>Nord</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="js/calculator.js"></script>
    <script type="module" src="js/parser.js"></script>
    <script type="module" src="js/history.js"></script>
    <script type="module" src="js/themes.js"></script>
</body>
</html>
